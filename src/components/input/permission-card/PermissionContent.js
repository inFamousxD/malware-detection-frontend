import React, { useState, useEffect } from 'react';
import {
    Row, Col
} from 'react-bootstrap';

import './PermissionContent.css';

const permissionStyleFalse={
    cursor: 'pointer',
    color: '#cc0009'
}

const permissionStyleTrue={
    cursor: 'pointer',
    color: '#09cc00'
}

const PermissionContent = ({permission, changePermissions, allPermissions}) => {

    useEffect(() => {
        setPermissionState(permission[1]);
    }, [permission])

    const [permissionState, setPermissionState] = useState();

    const handleChange = () => {
        let temp = allPermissions;
        temp[permission[2]] = !permissionState;
        changePermissions(temp);
        setPermissionState(!permissionState);
    }

    return (
        <Row style={{marginBottom: '0.3vh', userSelect: 'none'}}>
            <Col xs={9} sm={9} md={9} xl={9}>{permission[0]}</Col>
            <Col xs={3} sm={3} md={3} xl={3} onClick={() => handleChange()} style={
                permissionState ? permissionStyleTrue : permissionStyleFalse
            }>{`${permissionState}`}</Col>
        </Row>
    )
}

export default PermissionContent
