import React from 'react';
import {
    Card, Button, Row, Col
} from 'react-bootstrap';
import { Link } from 'react-router-dom';
import InputElement from './InputElement';

const InputCounter = ({ inputs, setInputs }) => {
    const handleDelete = (string) => {
        let temp = inputs.filter((input) => { return (string !== input.string)});
        setInputs(temp);
    }

    let data = {
        data: []
    }

    const buttonStyle = {
        // maxWidth: '90%',
        border: '1px solid #999',
        marginTop: '2vh',
        borderRadius: '0px'
    }    

    const prepareInputs = () => {
        inputs.forEach((input) => {
            data.data.push(input.string.slice(0, -1).concat("1"));
            console.log('done', data.data[0].length)
        });
    }

    return (
        <div>
            <Card style={{
                width: '90%',
                marginTop: '4vh',
                fontSize: '14px',
                height: '30.75vh',
                borderRadius: '0px',
                border: '2px solid #999',
                borderRight: '0px',
                overflowX: 'hidden',
                overflowY: 'scroll'
            }}>
                <Card.Body style={{ userSelect: 'none' }}>
                    {
                        inputs.length === 0 ? 'No inputs added' : inputs.map((input, index) => {
                            return <InputElement key={index} value={input} handleDelete={handleDelete}></InputElement>;
                        })
                    }
                </Card.Body>
            </Card>
            <Row style={{maxWidth: '94.35%'}}>
                <Col>
                    <Button onClick={() => { setInputs([]) }} variant='outline-dark' block style={buttonStyle}>Reset/Cancel</Button>
                </Col>
                <Col>
                    <Button variant='outline-dark' onClick={() => { prepareInputs() }} block style={buttonStyle}>Prepare Inputs</Button>
                </Col>
                <Col>
                    <Link to={{
                        pathname:'/output',
                        inputs: data
                    }}>
                        <Button variant='dark' block style={buttonStyle}>Start</Button>
                    </Link>
                </Col>
            </Row>
        </div>
    )
}

export default InputCounter
